---
interface Props {
  slug: string;
  name: string;
  role: string;
  description: string;
  image?: string;
}

const { slug, name, role, description, image } = Astro.props;

const getInitials = (name: string) =>
  name
    .split(' ')
    .map((n) => n[0])
    .join('')
    .slice(0, 2)
    .toUpperCase();
---

<a
  href={`/equipo/${slug}`}
  class="card focus:ring-primary flex h-full flex-col bg-white shadow-lg transition-all duration-300 hover:-translate-y-1 hover:shadow-xl focus:ring-2 focus:outline-none"
  aria-label={`Ver perfil de ${name}`}
>
  <div class="card-body flex flex-col items-center p-4 text-center sm:p-5 md:p-6">
    <div class="avatar mb-3 sm:mb-4">
      <div class="h-20 w-20 rounded-full sm:h-24 sm:w-24">
        {
          image ? (
            <img src={image} alt={name} loading="lazy" />
          ) : (
            <div class="bg-primary text-primary-content flex h-full w-full items-center justify-center text-xl font-bold sm:text-2xl">
              {getInitials(name)}
            </div>
          )
        }
      </div>
    </div>
    <h3 class="font-gebuk text-lg font-bold sm:text-xl">{name}</h3>
    <p class="text-primary mb-2 text-lg font-semibold">{role}</p>
    <p
      class="text-base-content/80 line-clamp-2 min-h-0 text-sm leading-relaxed text-balance sm:text-base"
    >
      {description}
    </p>
  </div>
</a>
